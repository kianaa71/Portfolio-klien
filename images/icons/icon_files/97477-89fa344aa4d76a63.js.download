"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49950,97477],{49950:(e,t,r)=>{r.r(t),r.d(t,{Copy:()=>l});var a=r(51895),n=r(31085),i=(0,r(75531).A)((0,n.jsx)("path",{d:"M24 11.333V14h2.667v13.333H13.334v-2.667h-2.667v5.333h18.667V11.332zm-2.667-8H2.666V22h18.667V3.333zm-2.666 16H5.334V6h13.333v13.333z"}),"Copy.svg"),l=e=>(0,n.jsx)(i,(0,a._)({viewBox:"0 0 32 32"},e))},29380:(e,t,r)=>{r.d(t,{E:()=>i});var a=r(51895),n=r(18652),i=e=>{var{urlParams:t={},queryParams:r={}}=e,i="/bundle/".concat(t.filename),l=(0,a._)({},r);return{url:i,defaultParams:l,formattedUrl:(0,n.format)({pathname:i,query:l})}}},2987:(e,t,r)=>{r.d(t,{X:()=>Q});var a=r(49253),n=r(51895),i=r(65470),l=r(21074),o=r(2686),s=r(55948),d=r(87669),u=r(27190),c=r(11161),v=r(79487),m=r(63870),p=r(25888),f=r(45182),h=r(71090),_=r(55185),g=r(55802),y=r(77427),w=r(88297),b=r(13847),S=r(95398),I=r(48976),k=r(18227),C=r(90841),x=r(34559),z=r(14041),A=r(48917),T=r(65120),O=e=>{var{queryParams:t}=e;return(0,m.Re)({queryParams:t}).formattedUrl},N=e=>{var{assetId:t,asset:{id:r,tier:a=10,src:n,aspect:i,width:l,height:o}}=e;return{metadata:{notes:{media_id:t,alpha_num_id:r,rex_id:r,media_type:f.uH,tier:a,media:{aspect:i,width:l,height:o,url:n}}}}},F=function(){var e=(0,a._)(function*(e){var t,{isRexEditorial:r,collectionId:a,verificationCode:n,setAsCover:i,firstAsset:l,collectionType:o}=e,s=(0,d.G_)(l);if(s===f.K2){var u=(0,m.VT)({queryParams:{id:a,verificationCode:n,collectionType:o}}).formattedUrl,c=yield C.Bn.get(u).then(e=>(0,x.A)(e.data)||{});if(!(null==c?void 0:null===(t=c.coverItem)||void 0===t?void 0:t.id)){var v=(0,d.qQ)({asset:l,isRexEditorial:r}),p=(0,w.p)({collectionId:a,mappedAssetType:s,assetId:v});yield i({collection:{id:a},mediaItem:{id:p}})}}});return function(t){return e.apply(this,arguments)}}(),U=()=>{var[e,t]=(0,z.useState)({status:"",error:void 0}),[r,i]=(0,z.useState)(""),[l,o]=(0,z.useState)(""),s=(0,S.i)(),{setAsCover:u}=(0,T.N)(),{isBrandSstk:c}=(0,I.P)(),{analytics:v}=(0,k.pn)(),x=(0,g.cv)(v),{mutate:U}=(0,A.iX)();return{add:(0,z.useCallback)(function(){var e=(0,a._)(function*(e){var{assets:r,assetType:a,gridItems:l,groupedOptions:v,id:g,title:S,verificationCode:I,pageSection:k,listId:z}=e,A=(0,y.pQ)({assetType:a,isBrandSstk:c});try{t({status:p.qO,error:void 0});var T=(0,d.LO)(a),E=g,j=I;if(v&&v.length){var M=v.find(e=>{var{title:t}=e;return t===S});M&&(E=M.id,j=M.verificationCode)}if(!E){var P=(0,m.G2)().formattedUrl,R={data:{attributes:{title:S,collectionType:A,isPublic:!1},type:h.I}},{data:{id:G,attributes:{verificationCode:q}}}=yield C.Bn.post(P,R);E=G,j=q}var B={data:r.map(e=>{var t=(0,d.qQ)({asset:e,isRexEditorial:T}),r=(0,d.G_)(e);return(0,n._)({type:h.kS,id:(0,w.p)({collectionId:E,mappedAssetType:r,assetId:t})},r===f.K2&&N({assetId:t,asset:e}))})},D=(0,m.u6)({urlParams:{id:E},queryParams:{isRexEditorial:T}}).formattedUrl,H=(0,b.H)(x);yield C.Bn.post(D,B,H?{headers:{[_.ed]:H}}:void 0);var V=r[0];yield F({isRexEditorial:T,collectionId:E,verificationCode:j,setAsCover:u,firstAsset:V,collectionType:A}),s({collectionId:E,collectionName:S,gridItems:l,assets:r,pageSection:k,listId:z}),i(E),o(j)}catch(e){t({status:p.Nz,error:e})}finally{yield U(O({queryParams:{"filter[type]":A}}))}});return function(t){return e.apply(this,arguments)}}(),[c,x,u,s,U]),collectionId:r,setStatus:t,status:e,verificationCode:l}},E=r(36908),j=r(30682),M=r(31085),P=r(20288),R=r(23297),G=r(83894),q=r.n(G),B=r(96353),D=q()(()=>Promise.all([r.e(27510),r.e(6885),r.e(36101),r.e(1973),r.e(68006),r.e(61613),r.e(69726)]).then(r.bind(r,93607)).then(e=>({default:e.CollectionModal})),{loadableGenerated:{webpack:()=>[93607]},ssr:!1}),H=e=>{var{isOpen:t}=e,r=(0,B._)(e,["isOpen"]);return(0,R.G)(t)&&(0,M.jsx)(D,(0,n._)({isOpen:t},r))},V=q()(()=>Promise.all([r.e(27510),r.e(6885),r.e(83214),r.e(33668),r.e(95381),r.e(29842)]).then(r.bind(r,7676)).then(e=>({default:e.SaveSnackbarOrModal})),{loadableGenerated:{webpack:()=>[7676]},ssr:!1}),K=q()(()=>r.e(44449).then(r.bind(r,44449)).then(e=>({default:e.Snackbar})),{loadableGenerated:{webpack:()=>[44449]},ssr:!1}),J=e=>{var{assets:t,assetType:r="",collectionId:a,collectionTitle:n,gridItems:i=null,isDialogActive:l,isSnackBarOpen:s,onAddToCollections:d,onAlertSnackbarClose:u,onAddToCollectionsComplete:c,redirectToCDPAction:v={},setIsDialogActive:m,showCopyToModalTitle:p,status:f,verificationCode:h,pageSection:_,isMoveTo:g}=e,y=(0,P.u)(),w=(0,R.G)(t),b=(0,z.useCallback)(()=>m(!1),[m]),{folders:S}=(0,o.E)();return w?!y&&l?S&&(0,M.jsx)(V,{onClose:b,setIsDialogActive:m,isOpen:l,items:t,onAddToCollectionsComplete:c,pageSection:_,isMoveTo:g}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(H,{assets:t,assetType:r,collectionId:a,gridItems:i,isOpen:l,onAddToCollections:d,setIsDialogActive:m,showCopyToModalTitle:p,pageSection:_,isMoveTo:g}),(0,M.jsx)(K,{assetType:r,collectionId:a,collectionTitle:n,isOpen:s,onAlertSnackbarClose:u,redirectToCDPAction:v,status:f,verificationCode:h})]}):null},$=e=>[].concat(e),Q=e=>{var{initialAssetType:t}=e,r=(0,l.o)(),[m,p]=(0,z.useState)(!1),[f,h]=(0,z.useState)(!1),[_,g]=(0,z.useState)(!1),[y,w]=(0,z.useState)(""),[b,S]=(0,z.useState)(null),[I,k]=(0,z.useState)(t),[C,x]=(0,z.useState)(null),[A,T]=(0,z.useState)(null),[O,N]=(0,z.useState)(!1),[F,M]=(0,z.useState)(null),[P,R]=(0,z.useState)({}),G=(0,E.i9)(),q=(0,u.pb)(),B=(0,c.G)(),D=(0,v.a)(),{isModalOpen:H,handleCloseModal:V,handleOpenModal:K}=(0,i.d)(),[Q,L]=(0,z.useState)({shouldHandleRedirect:!1,redirectToCollectionDetailsPage:B}),{add:Y,status:W,collectionId:Z,verificationCode:X}=U(),{setIsSaveInProgress:ee,setDisableFetch:et}=(0,o.E)();(0,z.useEffect)(()=>()=>S(null),[]),(0,z.useEffect)(()=>()=>k(""),[]);var er=(0,z.useCallback)(e=>{var{formattedAssets:t,gridItems:r,isCopyToCollection:a,mappedAssetType:n,redirectToCollectionDetailsPage:i,pageSection:l,listId:o,isMoveToAction:s}=e;k(n),S(t),T(l),M(o),N(s),a&&g(!0),r&&x(r),i&&L({shouldHandleRedirect:!0,redirectToCollectionDetailsPage:i}),p(!0)},[]),ea=(0,z.useMemo)(()=>({assets:b,pageSection:A,assetType:I,collectionId:Z,collectionTitle:y,gridItems:C,isDialogActive:m,isSnackBarOpen:f,onAddToCollections:e=>{var{id:t,title:r,verificationCode:a,groupedOptions:n,pageSection:i}=e;return w(r),p(!1),h(!0),Y({assetType:I,assets:b,gridItems:C,groupedOptions:n,id:t,title:r,verificationCode:a,pageSection:i||A,listId:F})},onAlertSnackbarClose:()=>h(!1),redirectToCDPAction:Q,setIsDialogActive:p,showCopyToModalTitle:_,status:W,verificationCode:X,isMoveTo:O}),[b,C,Y,F,A,I,Z,y,m,f,Q,_,W,X,O]),en=(0,z.useCallback)(function(){var e=(0,a._)(function*(e){var t,a,{assets:i,gridItems:l,isCopyToCollection:o=!1,redirectToCollectionDetailsPage:u,pageSection:c,listId:v,openModal:m=!1,cta:p="",isMoveToAction:f=!1}=e;if((null==r?void 0:r.current)&&(r.current.isInProgress=!0,null===(t=(a=r.current).continuousStart)||void 0===t||t.call(a)),yield(0,j.a)(),G){et(!1),ee(!0);var h=$(i);er({formattedAssets:h,gridItems:l,isCopyToCollection:o,mappedAssetType:(0,d.G_)(h[0]),redirectToCollectionDetailsPage:u,pageSection:c,isMoveToAction:f,listId:v})}else m&&!D?(R((0,n._)({cta:p},i&&{assets:i},l&&{gridItems:l})),i&&window.sessionStorage.setItem(s.xN,JSON.stringify(i)),l&&window.sessionStorage.setItem(s.ac,JSON.stringify(l)),K()):(0,s.F_)({assets:i,gridItems:l,signUpPath:q})});return function(t){return e.apply(this,arguments)}}(),[G,D,et,ee,er,r,K,q]),ei=e=>e&&"undefined"!==e,el=(0,z.useCallback)((0,a._)(function*(){var e=window.sessionStorage.getItem(s.xN),t=window.sessionStorage.getItem(s.ac);if(ei(e)&&ei(t)){var r=JSON.parse(e),a=JSON.parse(t);yield en({assets:r,gridItems:a,redirectToCollectionDetailsPage:!1})}window.sessionStorage.removeItem(s.Vt),window.sessionStorage.removeItem(s.xN),window.sessionStorage.removeItem(s.ac)}),[en]);return(0,z.useEffect)(()=>{var e=window.sessionStorage.getItem(s.Vt);ei(e)&&JSON.parse(e)?G&&el():(0,s.vt)({showAddToCollectionModal:er,isLoggedInUser:G})},[el,G,er]),{addToCollectionViewsProps:ea,addToCollectionViewsHandler:en,AddToCollectionViews:J,isModalOpen:H,handleCloseModal:V,collectionProps:P}}},92497:(e,t,r)=>{r.d(t,{l:()=>p});var a=r(49253),n=r(31085),i=r(89522),l=r(93473),o=r(74330),s=r(25888),d=r(37564),u=r(49950),c=r(41650),v=r.n(c),m=r(14041),p=e=>{var{classesProps:t={},clickAnalyticsLabel:r="",errorMessage:c,successMessage:p,text:f="",label:h="",Component:_=o.K,tooltip:g}=e,{enqueueSnackbar:y}=(0,d.d)(),w=!f,b=(0,m.useCallback)((0,a._)(function*(){try{yield v()(f),y({message:p,alertSeverity:s.qO,isDismissible:!0})}catch(e){e&&y({message:c,alertSeverity:s.Nz,error:e,isDismissible:!0})}}),[y,c,p,f]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.A,{display:"inline-flex",flexDirection:"column",justifyContent:"center",textAlign:"center",mx:1,children:(0,n.jsx)(l.D,{title:g,placement:"top",children:(0,n.jsxs)(_,{"aria-label":g,className:t.copyToClipboard,clickTrack:r,disabled:w,onClick:()=>b(),size:"small",children:[(0,n.jsx)(u.Copy,{fontSize:"small",className:t.copyIcon}),h]})})})})}},65470:(e,t,r)=>{r.d(t,{d:()=>i});var a=r(73072),n=r(14041),i=()=>{var[e,t]=(0,n.useState)(!1),r=(0,a.h)();return{isModalOpen:e,handleOpenModal:()=>{r({actionName:"convert - signup modal opened"}),t(!0)},handleCloseModal:()=>{t(!1)}}}},94722:(e,t,r)=>{r.r(t),r.d(t,{DynamicSnackbar:()=>c});var a=r(31085),n=r(25888),i=r(83079),l=r(83894),o=r.n(l),s=r(14041),d=r(64481),u=o()(()=>r.e(72560).then(r.bind(r,72560)).then(e=>({default:e.Snackbar})),{loadableGenerated:{webpack:()=>[72560]},ssr:!1}),c=e=>{var{alertAction:t={},alertSeverity:r=n.rD,error:l,handleSnackbarClose:o=i.lQ,isOpen:c,message:v="",onSnackbarExited:m=i.lQ,isDismissible:p=!0,anchorOrigin:f=d.tH}=e,[h,_]=(0,s.useState)(!1);return(0,a.jsx)(a.Fragment,{children:c||h?(0,a.jsx)(u,{alertAction:t,alertSeverity:r,error:l,handleSnackbarClose:o,isOpen:c,message:v,onSnackbarExited:m,setEntered:_,isDismissible:p,anchorOrigin:f},v):null})}},57086:(e,t,r)=>{r.d(t,{j:()=>l});var a=r(83079),n=r(14041),i={applyCanvasViewed:a.lQ,applyToolAnalytics:a.lQ,emitEditProductAnalyticsEvent:a.p5,setAnalyticsStatePartial:a.lQ},l=(0,n.createContext)(i)},71768:(e,t,r)=>{r.d(t,{v:()=>i});var a=r(14041),n=r(57086),i=()=>(0,a.useContext)(n.j)},30037:(e,t,r)=>{r.d(t,{e:()=>v,s:()=>c});var a=r(51895),n=r(91025),i=r(90765),l=r(21347),o=r(45182),s=r(39385),d=r(80352),u=r(87669),c=e=>{var{asset:t}=e;switch((0,u.f0)(t)){case o.G_:return(0,d.ch)(Object.values(t.sizes));case o.W1:default:return(0,d.hp)((null==t?void 0:t.sizes)&&Object.values(t.sizes))}},v=e=>{var t,r,c,{asset:v,selectedAssetSize:m,selectedShadowsOption:p,isTitleNeeded:f=!1}=e,h=(0,s.ZC)({asset:v}),_=(0,u.R1)(v);(0,u.Kx)(v)&&(h=o.SL);var g=v.id.toString(),y=(0,s.Uw)({assetType:h,assetId:g});switch(h){case o.G_:case o.SL:r=null==(t=m||(null===(c=(0,d.zS)({sizes:v.sizes}))||void 0===c?void 0:c[0]))?void 0:t.resolution;break;case o.FY:case o.M9:case o.on:r=null==(t=m)?void 0:t.resolution;break;case o.vo:case o.kc:default:t=m||(0,d.hp)(v.sizes),[r]=t.name.split("_")}return(0,a._)({content_id:g,content_type:y,content_size:r,content_format:null==t?void 0:t.format},f?{content_title:null==v?void 0:v.title}:{},_?(0,n._)((0,a._)({},m.format===l.OA&&{include_shadows:"on"===p}),{angle:(null==v?void 0:v.angle)||i.R}):{})}},77427:(e,t,r)=>{r.d(t,{En:()=>m,Gb:()=>v,Ix:()=>p,LP:()=>_,Nx:()=>S,WI:()=>g,iK:()=>w,pQ:()=>I,wy:()=>b,zZ:()=>y});var a=r(51895),n=r(91025),i=r(36953),l=r(45182),o=r(71090),s=r(63522),d=r(55802),u=r(80352),c=r(87669),v=e=>"Untitled"===e,m=function(){var{items:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&0===e.length},p=e=>{var t=!(null==e?void 0:e.role)&&!(null==e?void 0:e.isPublic);return(null==e?void 0:e.role)===s.Zh||t},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t=""}=e,[,r,a]=t.split("-");return{id:a,type:r===l.FY?l.on:r,aspect:1,src:"",previewImageUrl:""}},h=function(){var e,t,{metadata:r={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.tracking){try{e=(0,d.fF)({trackingId:null===(t=JSON.parse(r.tracking))||void 0===t?void 0:t.search})}catch(t){e=(0,d.fF)({trackingId:r.tracking})}return(0,a._)({search_context:e},n)}return n},_=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(null===(e=t.mediaItem)||void 0===e?void 0:e.id)?(0,u.cK)(t.mediaItem):r&&f(t)},g=(e,t)=>e?e.reduce((e,r)=>{var i=_(r,t);return e.collectionItems.push((0,n._)((0,a._)({},r),{mediaItem:(0,n._)((0,a._)({},i),{meta:h(r,null==r?void 0:r.meta)})})),i&&e.mediaItems.push((0,n._)((0,a._)({},i),{meta:h(r,null==i?void 0:i.meta)})),e},{collectionItems:[],mediaItems:[]}):{collectionItems:e},y=e=>{var{assetType:t,t:r,totalItemCount:a}=e,n=t===l.uH,i=1===a,o=n?"ent:collection_editorial_total_single":"feature-collections:number_".concat(l.GC[t],"_single"),s=n?"ent:collection_editorial_total_plural":"feature-collections:number_".concat(l.GC[t],"_plural");return r(i?o:s,{NUM_TRACKS:a})},w=e=>{var{t,formatter:r,date:a}=e;if(!r||!a)return"";try{return t("footage:directors_choice_list_collection_card_edited_date",{DATE:r(new Date(a))})}catch(e){return console.error(e),""}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e.find(e=>e.type===o.kS)},S=e=>{var{assets:t=[],assetType:r}=e;switch(r){case l.on:case l.FY:return t.some(e=>(0,c.pj)({track:e}));case l.W1:return t.some(e=>(0,c.Uh)(e));default:return!1}},I=e=>{var{assetType:t,isBrandSstk:r}=e;return r?i.i[t]:o.w$[t]}},22714:(e,t,r)=>{r.d(t,{Rj:()=>b,og:()=>N});var a=r(49253),n=r(51895),i=r(63870),l=r(90765),o=r(21347),s=r(94869),d=r(45182),u=r(83507),c=r(17442),v=r(93255),m=r(80352),p=r(87669),f=r(11838),h=r(90841),_=r(34559),g=r(30082),y=r(39385),w=e=>{var t,r,{asset:a}=e,{angle:i,selectedFormatType:d,selectedShadowsOption:u}=a;return(0,n._)({angle:i||(null==a?void 0:null===(r=a.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.angle)||l.R,content_size:s.kP},d===o.OA&&{include_shadows:"on"===u})},b=e=>{var t,r,{asset:a}=e;return(null==a?void 0:null===(r=a.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.sizes)||a.sizes},S=function(){var e=(0,a._)(function*(e){var t,{asset:r}=e;if((null==r?void 0:null===(t=r.metadata)||void 0===t?void 0:t.cart)&&!r.metadata.cart.sizes){var a=(0,p.Kx)(r),n={id:r.id};return a&&(n.channel=u.H6,n.content_provider=c.Au),(yield h.Bn.get((0,i.yb)({queryParams:n}).formattedUrl).then(e=>{var{data:t}=e;return(0,_.A)(t)})).sizes}return b({asset:r})});return function(t){return e.apply(this,arguments)}}(),I=e=>{var t,r,a,n,{asset:i,is3dObject:l,isRexEditorial:o,selectedAssetSize:s}=e;return i.licenseAsJpeg||(null===(r=i.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.licenseAsJpeg)?"jpeg":l&&i.selectedFormatType?"3dByFormat":l&&(null===(n=i.metadata)||void 0===n?void 0:null===(a=n.cart)||void 0===a?void 0:a.size)?"3dBySize":f.N[s]?"comped":o?"rexEditorial":"default"},k=e=>{var t,r,a,n,{asset:i,licenseStrategy:l,selectedAssetSize:d,sizesToUseArray:u}=e,c=(()=>{switch(l){case"jpeg":return u.find(e=>{var{format:t}=e;return t===o.kr});case"3dByFormat":return u.find(e=>{var{format:t}=e;return t===i.selectedFormatType});case"3dBySize":return;case"comped":return(0,m.z6)({sizes:u,compSizeImage:d});default:return(0,m.hp)(u)}})(),v=(null==c?void 0:c.format)||(null===(r=i.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.format);switch(l){case"rexEditorial":return{size:s.mx,format:v};case"3dByFormat":var[p]=c.name.split("_");return{size:p,format:v};case"3dBySize":return{size:null==i?void 0:null===(n=i.metadata)||void 0===n?void 0:null===(a=n.cart)||void 0===a?void 0:a.size,format:v};default:return{size:f.PS[(0,g.C)(c.name)].downloadName,format:v}}},C=e=>{var t,r,a,i,{selectedAssetSize:l,asset:o}=e,d=b({asset:o}),u=(0,p.$9)(o),c=(0,p.R1)(o),v=c?w({asset:o,selectedAssetSize:l,sizesToUse:d}):{};if(!d&&(null==o?void 0:null===(r=o.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.size)&&(null==o?void 0:null===(i=o.metadata)||void 0===i?void 0:null===(a=i.cart)||void 0===a?void 0:a.format))return(0,n._)({content_size:u?s.mx:o.metadata.cart.size,content_format:o.metadata.cart.format},v);var m=Object.values(d),f=I({asset:o,is3dObject:c,isRexEditorial:u,selectedAssetSize:l}),{size:h,format:_}=k({asset:o,licenseStrategy:f,selectedAssetSize:l,sizesToUseArray:m});return(0,n._)({content_size:h,content_format:_},v)},x=e=>{var{map:t,licenseName:r}=e,a=t[r];return a===s.Fo?s.TR:a},z=e=>{var{asset:t,licenseName:r,isVideoComp:a,selectedAssetSize:n,sizes:i}=e,l=(0,p.$9)(t),o=(0,p.y8)(t),s=(0,p.s$)({sizes:Object.values(i)});return!a&&s?x({map:f._u,licenseName:r}):a||r===v.eNn||l||o?!n||l||o?(0,m.fk)(i):f.w4[n]:x({map:f.w4,licenseName:r})},A=function(){var e=(0,a._)(function*(e){var{asset:t,licenseName:r,isVideoComp:a,selectedAssetSize:n}=e,i=yield S({asset:t}),l=z({asset:t,licenseName:r,isVideoComp:a,selectedAssetSize:n,sizes:i}),o=(0,p.$9)(t),d=Object.values(i).find(e=>{var{resolution:t}=e;return f.KH[null==t?void 0:t.toLowerCase()]===l});return{content_size:o?s.mx:l,content_format:null==d?void 0:d.format}});return function(t){return e.apply(this,arguments)}}(),T=e=>{var t,{format:r,selectedAssetSize:a}=e;switch(a){case"stereo":t=s.GD;break;case"5.1":t=s.eC;break;default:t=s.LM}return{content_size:t,content_format:r===o.nz?o.nz:o.D1}},O=function(){var e=(0,a._)(function*(e){var{asset:t,licenseName:r,isVideoComp:a,selectedAssetSize:n,format:i}=e,l=(0,y.ZC)({asset:t});switch((0,p.Kx)(t)&&(l=d.SL),l){case d.G_:case d.SL:return yield A({asset:t,licenseName:r,isVideoComp:a,selectedAssetSize:n});case d.FY:return{content_size:s.Rf,content_format:d.FY};case d.M9:return T({selectedAssetSize:n,format:i});default:return C({selectedAssetSize:n,asset:t})}});return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,a._)(function*(e){var{licenseName:t,selectedAssetSize:r,asset:a,isVideoComp:i,format:l}=e,o=(0,y.ZC)({asset:a}),s=a.id.toString();return(0,n._)({content_id:s,content_type:(0,y.Uw)({assetType:o,assetId:s})},(yield O({asset:a,licenseName:t,isVideoComp:i,selectedAssetSize:r,format:l})))});return function(t){return e.apply(this,arguments)}}()},39385:(e,t,r)=>{r.d(t,{Ic:()=>u,Qk:()=>s,Uw:()=>l,ZC:()=>o,xB:()=>d});var a=r(45182),n=r(93255),i=r(87669),l=e=>{var{assetId:t,assetType:r}=e;if((0,i.$9)({id:t}))return a.uH;switch(r){case a.W1:case a.no:case a.kc:case a.m$:return a.vo;case a.BI:return a.G_;case a.on:case a.pS:return a.FY;case a.M9:return a.M9;default:return r}},o=e=>{var t,{asset:r}=e;if(null===(t=r.image)||void 0===t?void 0:t.isVector)return a.kc;if((0,i.$9)(r))return a.uH;var n=r.imageType||r.itemType||r.type;switch(n){case a.KB:case a.$E:case a.no:return a.W1;case a.BI:return a.G_;case a.pS:return a.FY;case a.M9:return a.M9;default:return n}},s=e=>{var{asset:t}=e;if((0,i.O6)(t))return a.uH;if((0,i.Kx)(t))return a.rr;var r=t.imageType||t.itemType||t.type;switch(r){case a.kc:case a.vo:case a.KB:case a.$E:case a.no:return a.W1;case a.BI:return a.G_;case a.pS:return a.FY;case a.M9:return a.M9;default:return r}},d=e=>{var{asset:t}=e;if((0,i.O6)(t))return a.oh;if((0,i.Kx)(t))return a.SL;var r=t.imageType||t.itemType||t.type;switch(r){case a.kc:case a.vo:case a.KB:case a.$E:case a.no:return a.W1;case a.BI:return a.G_;case a.pS:case a.on:return a.FY;case a.M9:return a.M9;default:return r}},u=e=>{var t=d({asset:e.mediaItem});return e.licenseName===n.H8E[t]}},91758:(e,t,r)=>{r.d(t,{Kq:()=>f,XO:()=>v,c0:()=>m,gB:()=>p,nS:()=>s,oz:()=>d,vj:()=>c,yQ:()=>u});var a=r(94869),n=r(45182),i=r(87669),l=r(50799),o=[n.G_],s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;if(!l.R6||"string"!=typeof e||e.includes("ip=x".concat(t)))return e;try{var r=new URL(e);return r.searchParams.set("ip","x".concat(t)),r.href}catch(t){return e}},d=e=>{var t,r,a;return(null==e?void 0:e.mediaItem)?{previewImageUrl:null===(r=e.mediaItem)||void 0===r?void 0:r.previewImageUrl,previewVideoUrls:null===(a=e.mediaItem)||void 0===a?void 0:a.previewVideoUrls}:{previewImageUrl:(null==e?void 0:e.thumbImageUrl)||(null==e?void 0:null===(t=e.image)||void 0===t?void 0:t.url)||(null==e?void 0:e.previewImageUrl),previewVideoUrls:null==e?void 0:e.previewVideoUrls}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(0,i.aH)(e)){var n,l,o,u=e.src||(null===(n=e.image)||void 0===n?void 0:n.url);return r&&(null==e?void 0:null===(o=e.displays)||void 0===o?void 0:null===(l=o[a.nQ])||void 0===l?void 0:l.src)||u}var{previewImageUrl:c}=d(e);return s(c,t)},c=e=>{var{assetType:t}=e;return t===n.G_?"mp4":null},v=e=>{var{asset:t}=e;return o.includes((0,i.f0)(t))&&!(0,i.Kx)(t)},m=function(){var e,t,r,n,l,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,i.lF)(null==o?void 0:o.type))return(null==o?void 0:o.width)>1e3?"".concat(null==o?void 0:o.previewUrls[0],"?width=1000"):null==o?void 0:o.previewUrls[0];var s=(0,i.$9)(o)?a.pI:a.jx,d=(null==o?void 0:null===(t=o.displays)||void 0===t?void 0:null===(e=t[s])||void 0===e?void 0:e.src)||(null==o?void 0:null===(l=o.image)||void 0===l?void 0:null===(n=l.displays)||void 0===n?void 0:null===(r=n[s])||void 0===r?void 0:r.src);return(0,i.R1)(o)&&o.angle?d.replace(/\/([A-Z]\d\d)./,"/".concat(o.angle,".")):d},p=function(){var e,t,r,l,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(0,i.f0)(s);return d===n.W1||d===n.wt||d===n._g?(null==s?void 0:null===(t=s.displays)||void 0===t?void 0:null===(e=t[a.pI])||void 0===e?void 0:e.src)||(null==s?void 0:s.src):d===n.o9?null==s?void 0:null===(r=s.imageVariants)||void 0===r?void 0:r["1500"]:d===n.on||d===n.M9?null==s?void 0:s.previewMp3:d===n.nE?null==s?void 0:s.previewUrls[0]:d===n.gv?null===(o=s.cmsEntry)||void 0===o?void 0:null===(l=o.image)||void 0===l?void 0:l.url:null},f=function(){var e,t,r,a,n,l,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d={width:null!==(a=null!==(r=o.width)&&void 0!==r?r:null===(e=o.mediaItem)||void 0===e?void 0:e.width)&&void 0!==a?a:0,height:null!==(l=null!==(n=o.height)&&void 0!==n?n:null===(t=o.mediaItem)||void 0===t?void 0:t.height)&&void 0!==l?l:0};if((0,i.aH)(o)&&(!d.width||!d.height)&&o.sizes){var u=Object.keys(o.sizes).find(e=>o.sizes[e]);d.width=u&&o.sizes[u].width||0,d.height=u&&o.sizes[u].height||0}if(s&&(!d.width||!d.height)&&o.aspectRatioCommon){var[c,v]=o.aspectRatioCommon.split(":");d.width=Number(c),d.height=Number(v)}return d}},13847:(e,t,r)=>{r.d(t,{H:()=>a});var a=e=>{var{subPage:t,pageType:r}=e;return[t,r].join("-")}},3725:(e,t,r)=>{r.d(t,{F:()=>i});var a=r(18227),n=r(14041),i=()=>{var{analytics:e}=(0,a.pn)();return(0,n.useCallback)(function(){var{pageSection:t,eventLabel:r,clickTrackOptions:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&r&&e.inlineClick("".concat(t,".").concat(r),a)},[e])}},95398:(e,t,r)=>{r.d(t,{i:()=>o});var a=r(55802),n=r(66969),i=r(18227),l=r(14041),o=()=>{var{analytics:e}=(0,i.pn)(),{getSearchContext:t}=(0,n.J)();return(0,l.useCallback)(r=>{var{collectionId:n,collectionName:i,gridItems:l,assets:o,pageSection:s,listId:d}=r;e.productAddedToWishlist({products:o.map(e=>(0,a.Un)({asset:e,getSearchContext:t,gridItems:l,pageSection:s})),wishlist_id:n,wishlist_name:i,list_id:null!=d?d:""})},[e,t])}},24091:(e,t,r)=>{r.d(t,{$:()=>c});var a=r(51895),n=r(52571),i=r(71768),l=r(18923),o=r(55802),s=r(66969),d=r(18227),u=r(14041),c=()=>{var{analytics:e}=(0,d.pn)(),{locale:t}=(0,l.PZ)(),{emitEditProductAnalyticsEvent:r}=(0,i.v)(),{getSearchContext:c}=(0,s.J)();return(0,u.useCallback)(i=>{var{assets:l=[],audioContext:s,eventLabel:d,licenseId:u,isRedownload:v,isQuickDownload:m,isPaid:p,isComp:f,pageSection:h,listId:_}=i,g=d||f&&n.z3l||void 0;e.productDownloaded((0,a._)({products:l.map(e=>(0,o.Un)({asset:e,shouldGetSearchContextFromAsset:!0,licenseId:u,pageSection:h})),download_context:(0,o.qn)({asset:l[0],isComp:f,isPaid:p,isQuickDownload:m,isRedownload:v,language:t}),eventLabel:g,list_id:null!=_?_:"",search_context:c(l[0])},s&&{audio_context:(0,a._)({},s)})),r("license")},[e,t,c,r])}},16933:(e,t,r)=>{r.d(t,{H:()=>d});var a=r(51895),n=r(55802),i=r(87669),l=r(66969),o=r(18227),s=r(14041),d=()=>{var{analytics:e}=(0,o.pn)(),{getSearchContext:t}=(0,l.J)();return(0,s.useCallback)(r=>{var{asset:l,eventLabel:o,gridItems:s,isPreview:d,listId:u,pageSection:c}=r,v=(0,n.I2)(l),m=(0,n.e2)(l),p=(0,n.Oc)(l);e.productViewed((0,a._)({eventLabel:o,list_id:null!=u?u:"",page_section:c,asset_type:(0,i.x4)(l),category:(0,n.bW)(l),channels:(0,n.Jp)(l),is_preview:d,name:(0,n.H0)(l),product_id:v,search_context:t(l),sku:v},s&&(null==s?void 0:s.length)>1?(0,n.aW)({gridItems:s,item:l}):{},m&&{brand:m},p&&{product_line:p}))},[e,t])}},75598:(e,t,r)=>{r.d(t,{O:()=>i});var a=r(14041),n=r(16933),i=e=>{var{asset:t,showErrorPageContent:r}=e,i=(0,n.H)();(0,a.useEffect)(()=>{!r&&t&&i({asset:t,isPreview:!1})},[t,i,r])}},66969:(e,t,r)=>{r.d(t,{J:()=>u});var a=r(71848),n=r(50896),i=r(55802),l=r(48976),o=r(57518),s=r(3478),d=r(14041),u=()=>{var{isBrandSstk:e}=(0,l.P)(),{searchTrackingIdRef:t,searchTermRef:r,setters:{setSearchTrackingId:u,setSearchTerm:c}}=(0,n.K6)(),v=(0,d.useCallback)(r=>{var{trackingId:n,term:i}=r;if(n){if(t.current===n&&(0,o.vb)()===n)return;(0,o.rv)(n),(0,o.Nh)(i),u(n),c(i),e&&s.A.set(a.lj,n,{expires:a.AY,sameSite:"strict"})}},[e,t,c,u]),m=(0,d.useCallback)(function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{meta:n}=a,l=(0,i.Pf)({asset:a})||t.current||(0,o.vb)();return(0,i.fF)({trackingId:(null==l?void 0:l.uuid)||l,searchTerm:(null==n?void 0:n.query)||(null==n?void 0:null===(e=n.search_context)||void 0===e?void 0:e.search_term)||r.current||(0,o.lV)()})},[r,t]),p=(0,d.useCallback)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=(null==t?void 0:t[0])||t,{meta:n}=a,l=(0,i.Pf)({asset:a})||(0,o.vb)();return(0,i.fF)({trackingId:l,searchTerm:(null==n?void 0:n.query)||(null==n?void 0:null===(e=n.search_context)||void 0===e?void 0:e.search_term)||r.current||(0,o.lV)()})},[r]);return{setSearchContext:v,getSearchContext:m,validateSearchTrackingId:(0,d.useCallback)(()=>{var n=(0,o.vb)(),i=t.current,l=r.current,d=(0,o.lV)();(i!==n||l!==d)&&((0,o.rv)(i),(0,o.Nh)(l),e&&s.A.set(a.lj,i,{expires:a.AY,sameSite:"strict"}))},[e,r,t]),getSearchContextFromAssets:p}}},39857:(e,t,r)=>{r.d(t,{tz:()=>m,IF:()=>c,gu:()=>p});var a=r(49253),n=r(51895),i=r(91025);let l=JSON.parse('{"id":"9b39276a4c2fd8168192d2aea104dbc7220c29975ed9b48a0841bb614ec5e8ef","type":"query","name":"FetchAssetReviewStatusData","source":"query FetchAssetReviewStatusData($where:MediaWhere!){creativeImages(where:$where){data{isIpReviewed classicId referenceIds{namespace name value __typename}__typename}__typename}}"}');var o=r(85322),s=r(93402),d=r(53563),u=r(14041),c=e=>{var{assetIds:t}=e;return[l.source,{where:{classicIds:t}}]},v=e=>{var t;return(null==e?void 0:null===(t=e.creativeImages)||void 0===t?void 0:t.data)?e.creativeImages.data.filter(e=>null!==e).map(e=>{var t=(null==e?void 0:e.isIpReviewed)||!1,r=(null==e?void 0:e.referenceIds)||[],a=(null==e?void 0:e.classicId)||"",n=r.find(e=>(null==e?void 0:e.namespace)==="ip_review"&&(null==e?void 0:e.name)==="ip_review_status");return{classicId:a,isIpReviewed:t,ipReviewStatus:(null==n?void 0:n.value)||"",queryKey:c({assetIds:[a]})}}):[]},m=function(){var e=(0,a._)(function*(e,t){var[r,a]=t;return e(r,a).then(v)});return function(t,r){return e.apply(this,arguments)}}(),p=(e,t)=>{var{assetIds:r}=e,a=(0,o.s)("/"),l=(0,s.jE)(),v=(0,u.useCallback)(e=>{var{reviewStatus:t}=e,a=c({assetIds:r});return l.setQueryData(a,e=>[(0,i._)((0,n._)({},e[0]),{isIpReview:!1,ipReviewStatus:t})]),l.invalidateQueries({queryKey:a,predicate:e=>{var{queryKey:t}=e;return t===a}})},[r,l]),p=(0,d.I)({enabled:t,queryKey:c({assetIds:r}),queryFn:e=>{var{queryKey:t}=e;return m(a,t)}});return(0,i._)((0,n._)({},p),{updateReviewStatus:v})}},11161:(e,t,r)=>{r.d(t,{G:()=>l});var a=r(52309),n=r(31242),i=r(14041),l=()=>{var e=(0,n.useRouter)();return(0,i.useCallback)(t=>{var{assetType:r,collectionId:n,verificationCode:i}=t,l=(0,a.w)({assetType:r,id:n,verificationCode:i});e.push(...l)},[e])}},84792:(e,t,r)=>{r.d(t,{r:()=>v,v:()=>c});var a=r(51895),n=r(91025),i=r(33565),l=r(18227),o=r(3478),s=r(14041),d=r(36908),u=r(61662),c=()=>{var{data:e}=(0,d.rA)(),{data:t}=(0,u.J)(),r=o.A.get("n_v"),{isGoodBot:l,isSuspectedBadBot:c}=(0,i.U)();return(0,s.useCallback)(i=>{var o,s,d,u,v,{customAttributes:m={},error:p,msg:f,level:h="error"}=i,_=p||Error(f),g="function"==typeof _.toJSON?null===(o=_.toJSON)||void 0===o?void 0:o.call(_):{},y=(0,n._)((0,a._)((0,n._)((0,a._)({},m,g),{clientVersion:r,errorCode:_.code,errorStatus:_.status,errorDetail:_.detail,errorMessage:_.message,errorStack:_.stack||"useNewRelicNoticeError",errorTitle:_.title}),e&&{createTime:e.createTime,organizationId:e.organizationId,userId:e.id,username:e.username}),{impersonatorId:null==t?void 0:t.impersonatorId,isGoodBot:l,isSuspectedBadBot:c,msg:f,path:window.location.pathname,referrerPath:window.location.pathname,query:window.location.search,referrerQuery:window.location.search});"error"===h?(null===(d=window.NREUM)||void 0===d||null===(s=d.noticeError)||void 0===s||s.call(d,_,y),window.origin.includes("localhost")&&console.warn("sent newrelic noticeError",y)):"warn"===h&&(null===(v=window.NREUM)||void 0===v||null===(u=v.addPageAction)||void 0===u||u.call(v,_.message,(0,n._)((0,a._)({},y),{warning:!0})),window.origin.includes("localhost")&&console.log("sent newrelic addPageAction",y))},[r,t.impersonatorId,l,c,e])},v=e=>{var{customAttributes:t={},error:r,level:a="error",msg:n}=e,{data:i}=(0,d.rA)(),{data:o}=(0,u.J)(),{analytics:v}=(0,l.pn)(),m=c();(0,s.useEffect)(()=>{i&&o&&(m({customAttributes:t,error:r,msg:n,level:a}),"error"===a&&v.click({name:t.component,eventAction:t.eventAction||"seeError",eventCategory:a,eventLabel:"error-experience",eventValue:{actionText:t.actionText}}))},[r,o,a,n,i])}},65120:(e,t,r)=>{r.d(t,{N:()=>d});var a=r(49253),n=r(63870),i=r(25888),l=r(71090),o=r(90841),s=r(14041),d=()=>{var[e,t]=(0,s.useState)({status:"",error:void 0}),r=(0,s.useCallback)(function(){var e=(0,a._)(function*(e){var{collection:r,mediaItem:a}=e,s=(0,n.Xz)({urlParams:{id:r.id}}).formattedUrl,d={data:{id:r.id,relationships:{"cover-item":{data:{id:"".concat(a.id),type:l.kS}}},type:l.I}};try{t({status:i.qO,error:void 0}),yield o.Bn.patch(s,d)}catch(e){t({status:i.Nz,error:e})}});return function(t){return e.apply(this,arguments)}}(),[]);return{status:e,setStatus:t,setAsCover:r}}},70933:(e,t,r)=>{r.d(t,{Bx:()=>y,Dt:()=>S,G$:()=>b,T9:()=>x,Zj:()=>k,fX:()=>w,lL:()=>C});var a=r(49253),n=r(51895),i=r(91025),l=r(29380),o=r(63870),s=r(21347),d=r(94869),u=r(45182),c=r(83507),v=r(93255),m=r(22714),p=r(80352),f=r(87669),h=r(70627),_=r(90841),g=r(10542),y=function(e){var{name:t,target:r="_self"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=document.createElement("a");a.setAttribute("data-automation","FeatureDownload_utils_link"),a.style.display="none",a.href=e,a.target=r,a.download=t||e,document.body.appendChild(a),a.click(),(0,g.rd)()||document.body.removeChild(a)},w=function(){var e=(0,a._)(function*(e){var{downloadBundlePayload:t}=e,r=(0,l.E)({urlParams:{filename:t.bundleFilename}}).formattedUrl,{public_url:a}=(yield _.a8.post(r,t.content)).data;return a});return function(t){return e.apply(this,arguments)}}(),b=e=>{var{licensedContent:t,supplementalUrlType:r}=e,{downloadUrl:a,supplementalUrls:n}=t[0];if((null==n?void 0:n.length)&&r){var{url:i=a}=n.find(e=>{var{type:t}=e;return t===r})||{};return i}return a},S=function(){var e=(0,a._)(function*(e){var{downloadPayload:t,supplementalUrlType:r,licenseeIdentifier:a}=e,n=(0,o.Gt)({urlParams:{licenseeIdentifier:a}}).formattedUrl,{data:{meta:{licensedContent:i}}}=yield _.Bn.post(n,t);return{downloadUrl:b({licensedContent:i,supplementalUrlType:r}),licensedContent:i}});return function(t){return e.apply(this,arguments)}}(),I=e=>{var{existingAssetLicenses:t,contentType:r,licenseName:a,subscriptions:n}=e;switch(r){case u.G_:var i,l,o=(0,h.d)({existingAssetLicenses:t,subscriptions:[...null!==(i=null==n?void 0:n.videoSubscriptions)&&void 0!==i?i:[],...null!==(l=null==n?void 0:n.videoCompSubscriptions)&&void 0!==l?l:[]],licenseName:a});return(null==o?void 0:o.redeemableFor)||a;case u.FY:return a||v.nYH;case u.M9:return a||v.X0R;case u.vo:default:return a}},k=function(){var e=(0,a._)(function*(e){var t,{assets:r,existingAssetLicenses:l,format:o,selectedAssetSize:v,subscriptions:h}=e,_=r.map((t=(0,a._)(function*(e){var t=(0,p.R9)({asset:e}),r=yield(0,m.og)({asset:e,licenseName:e.licenseId,selectedAssetSize:v});return(0,i._)((0,n._)({},r,t===u.M9&&{override_filename:"".concat(c.wT,"_").concat(e.id,".").concat(o||r.content_format)},(0,f.R1)(e)&&(0,n._)({content_provider:"pixelsquid-media",content_size:d.kP},e.selectedFormatType===s.OA&&{include_shadows:"on"===e.selectedShadowsOption})),{license_name:I({existingAssetLicenses:l,contentType:t,licenseName:e.licenseId,subscriptions:h}),show_modal:!0})}),function(e){return t.apply(this,arguments)}));return{required_cookies:"",content:yield Promise.all(_)}});return function(t){return e.apply(this,arguments)}}(),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.id&&(e.title||e.description)&&e.type&&window.localStorage.setItem("sstk_ent_asset_preview",JSON.stringify({id:e.id,title:e.title||e.description,thumb:e.src||e.previewImageUrl||"",video:e.previewVideoUrls,url:e.link,type:(0,f.f0)(e),isRex:e.isRexEditorial}))},x=e=>{var t;return requestAnimationFrame?function(){for(var r=arguments.length,a=Array(r),n=0;n<r;n++)a[n]=arguments[n];t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>{e(...a)})}:e}}}]);
//# sourceMappingURL=97477-89fa344aa4d76a63.js.map